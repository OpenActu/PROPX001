<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <!-- The above 3 meta tags *must* come first in the head; any other head content must come *after* these tags -->
    <title>Propal FDJ</title>

    <!-- Bootstrap -->
    <link href="vendors/bootstrap/dist/css/bootstrap.min.css" rel="stylesheet">

    <!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
      <script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
      <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->
    <style type="text/css">
    #my-carousel .carousel-inner .item {
      width: 100%;
      height: 120px;
    }
    @media (min-width:120px) { 
      #my-carousel .carousel-inner .item {
        height: 120px
      }
    }
    </style>
  </head>
  <body>
    <h1>Propal FDJ</h1>
    <!-- display item in carousel -->
    <div class="container">
      <div class="row">
        <div class="col-md-2">
	    <div id="carousel-example-generic" class="carousel slide" data-ride="carousel">
	      <!-- Indicators -->
	      <ol class="carousel-indicators" id="my_indicator">
	      </ol>
	      <!-- Wrapper for slides -->
	      <div class="carousel-inner" role="listbox" id="my_inner">    
	      </div>
	    </div>
	     <!-- Left and right controls -->
  	     <a class="left carousel-control" href="#carousel-example-generic" role="button" data-slide="prev">
    		<span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>
    		<span class="sr-only">Previous</span>
  	     </a>
             <a class="right carousel-control" href="#carousel-example-generic" role="button" data-slide="next">
    		<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span>
    		<span class="sr-only">Next</span>
  	     </a>
        </div>
      </div>
    </div>
    <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
    <script src="vendors/jquery/dist/jquery.min.js"></script>
    <!-- Include all compiled plugins (below), or include individual files as needed -->
    <script src="vendors/bootstrap/dist/js/bootstrap.min.js"></script>
    <script type="text/javascript">
    $(document).ready(function(){
	/**
	 * @note: adapt the url to match with the good REST API path
	 */        
	var url ="http://localhost/propal_fdj/web/app_dev.php/fdj/v1.0.0/games/1.json"; 
    	$.get(url,
		function(data){
			$indicator = $("div#my_indicator");
			$inner = $("div#my_inner");
			for(var i=0;i<data.output.length;i++){
				item = data.output[i];

				classname="";
				if(i==0)
					classname="active";

				$part = $("<a href='"+item.href+"'><div class='item "+classname+"'><img src='img/"+item.img+"' alt='"+item.title+"'></a><div class='carousel-caption'></div></div>");
				$inner.append($part);
				
				$part = $("<li data-target='#carousel-example-generic' data-slide-to='"+i+"' class='"+classname+"'></li>");
				$indicator.append($part);
			}
		}
	);
    });
    </script>
  </body>
</html>
